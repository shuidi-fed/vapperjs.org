(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{289:function(t,a,s){"use strict";s.r(a);var n=s(38),e=Object(n.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置文件","aria-hidden":"true"}},[t._v("#")]),t._v(" 配置文件")]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("以下选项既可用于命令行，又可以用于配置文件。")])]),t._v(" "),s("p",[s("code",[t._v("Vapper")]),t._v(" 会寻找项目根目录中的 "),s("code",[t._v("vapper.config.js")]),t._v(" 文件，并加载该文件导出的对象作为配置选项：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// vapper.config.js")]),t._v("\nmodule"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"mode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mode","aria-hidden":"true"}},[t._v("#")]),t._v(" mode")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("string")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("'production'")])])]),t._v(" "),s("p",[t._v("指定 "),s("code",[t._v("Vapper")]),t._v(" 的启动模式，生产模式还是开发模式，可选值为 "),s("code",[t._v("'development'")]),t._v(" 和 "),s("code",[t._v("'production'")])]),t._v(" "),s("h2",{attrs:{id:"vueclimode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vueclimode","aria-hidden":"true"}},[t._v("#")]),t._v(" vueCliMode "),s("Badge",{attrs:{text:"Vue CLI only"}})],1),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("string")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("null")])])]),t._v(" "),s("p",[t._v("指定 "),s("code",[t._v("Vue CLI")]),t._v(" 的 "),s("a",{attrs:{href:"https://cli.vuejs.org/guide/mode-and-env.html#modes",target:"_blank",rel:"noopener noreferrer"}},[t._v("--mode"),s("OutboundLink")],1),t._v(" 选项，主要用于加载 "),s("code",[t._v(".env.[mode]")]),t._v(" 文件。")]),t._v(" "),s("h2",{attrs:{id:"entry"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#entry","aria-hidden":"true"}},[t._v("#")]),t._v(" entry")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("string")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("'src/main'")])])]),t._v(" "),s("p",[t._v("指定项目的"),s("router-link",{attrs:{to:"/zh/entry.html"}},[t._v("入口文件")]),t._v("，默认遵守 "),s("code",[t._v("Vue CLI")]),t._v(" 的约定，把 "),s("code",[t._v("src/main.js")]),t._v(" 文件作为入口文件。如果你使用 "),s("a",{attrs:{href:"https://poi.js.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Poi"),s("OutboundLink")],1),t._v("，那么你需要修改该选项为："),s("code",[t._v("'src/index.js'")]),t._v("。")],1),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[s("code",[t._v("entry")]),t._v(" 选项需要与 "),s("code",[t._v("vue.config.js")]),t._v("(或 "),s("code",[t._v("poi.config.js")]),t._v(") 配置文件中的 "),s("code",[t._v("entry")]),t._v(" 选项保持一致。")])]),t._v(" "),s("h2",{attrs:{id:"ssr"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ssr","aria-hidden":"true"}},[t._v("#")]),t._v(" ssr")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("boolean")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("true")])])]),t._v(" "),s("p",[t._v("是否开启 "),s("code",[t._v("SSR")]),t._v(" 模式，默认为开启，所有的页面都会在服务端渲染，可以通过 "),s("router-link",{attrs:{to:"/zh/routes-meta.html#路由-meta"}},[t._v("路由 Meta")]),t._v(" 控制具体的路由规则是否启用 "),s("code",[t._v("SSR")]),t._v("。")],1),t._v(" "),s("h2",{attrs:{id:"enablecustomerrorpage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#enablecustomerrorpage","aria-hidden":"true"}},[t._v("#")]),t._v(" enableCustomErrorPage")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("boolean")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("false")])])]),t._v(" "),s("p",[t._v("是否使用自定义错误页面，默认关闭。即无论什么情况下，只要有错误发生就会回退 "),s("code",[t._v("SPA")]),t._v(" 模式。更多内容请阅读："),s("router-link",{attrs:{to:"/zh/error-handling.html#自定义错误页面"}},[t._v("错误处理-自定义错误页面")]),t._v("。")],1),t._v(" "),s("h2",{attrs:{id:"template"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#template","aria-hidden":"true"}},[t._v("#")]),t._v(" template")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("string")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("''")])])]),t._v(" "),s("p",[t._v("自定义 "),s("code",[t._v("html")]),t._v(" 模板，例如：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// vapper.config.js")]),t._v("\nmodule"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  template"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" fs"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("readFileSync")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/path/to/your/template'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'utf-8'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("默认的模板是：")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token doctype"}},[t._v("<!DOCTYPE html>")]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("data-vue-meta-server-rendered")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("lang")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("en"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("{{{")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("meta.inject().htmlAttrs.text()")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("}}}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("{{{")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("meta.inject().headAttrs.text()")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("}}}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("charset")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("utf-8"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("http-equiv")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("X-UA-Compatible"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("IE=edge"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    {{{ meta.inject().meta.text() }}}\n    {{{ meta.inject().title.text() }}}\n    {{{ meta.inject().link.text() }}}\n    {{{ meta.inject().style.text() }}}\n    {{{ meta.inject().script.text() }}}\n    {{{ meta.inject().noscript.text() }}}\n  "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("{{{")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("meta.inject().bodyAttrs.text()")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("}}}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token comment"}},[t._v("\x3c!--vue-ssr-outlet--\x3e")]),t._v("\n    {{{ meta.inject().script.text({ body: true }) }}}\n  "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h2",{attrs:{id:"templatepath"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#templatepath","aria-hidden":"true"}},[t._v("#")]),t._v(" templatePath "),s("Badge",{attrs:{text:"1.5.0+"}})],1),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("string")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("''")])])]),t._v(" "),s("p",[t._v("与 "),s("code",[t._v("template")]),t._v(" 选项一样，用来自定义模板，不同的是 "),s("code",[t._v("template")]),t._v(" 选项指定模板的内容，而 "),s("code",[t._v("templatePath")]),t._v(" 选项指定模板的路径。使用 "),s("code",[t._v("templatePath")]),t._v(" 的好处的是：在开发模式下，模板文件的改动会实时生效。")]),t._v(" "),s("h2",{attrs:{id:"port"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#port","aria-hidden":"true"}},[t._v("#")]),t._v(" port")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("number")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("4000")])])]),t._v(" "),s("p",[t._v("服务器端口号。")]),t._v(" "),s("h2",{attrs:{id:"host"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#host","aria-hidden":"true"}},[t._v("#")]),t._v(" host")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("string")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("0.0.0.0")])])]),t._v(" "),s("p",[t._v("服务器主机。")]),t._v(" "),s("h2",{attrs:{id:"https"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#https","aria-hidden":"true"}},[t._v("#")]),t._v(" https "),s("Badge",{attrs:{text:"1.11.0+"}})],1),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("object")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("{}")])])]),t._v(" "),s("p",[t._v("这个对象会作为 "),s("code",[t._v("options")]),t._v(" 直接传递给 "),s("code",[t._v("nodejs")]),t._v(" 的 "),s("code",[t._v("require('https').reateServer([options][, requestListener])")]),t._v("。")]),t._v(" "),s("p",[t._v("例子：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// vapper.config.js")]),t._v("\nmodule"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  https"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    key"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" fs"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("readFileSync")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/path/to/server.key'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    cert"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" fs"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("readFileSync")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/path/to/server.crt'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"logger"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#logger","aria-hidden":"true"}},[t._v("#")]),t._v(" logger")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("function")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("console.log")])])]),t._v(" "),s("p",[t._v("自定义日志打印函数，默认为 "),s("code",[t._v("console.log")]),t._v("，你可以使用它自定义日志打印函数，例如：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// vapper.config.js")]),t._v("\nmodule"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token comment"}},[t._v("// 自定义 logger")]),t._v("\n  "),s("span",{attrs:{class:"token function"}},[t._v("logger")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("args"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("args"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"loglevel"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#loglevel","aria-hidden":"true"}},[t._v("#")]),t._v(" logLevel")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("number")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("5")])])]),t._v(" "),s("p",[t._v("设置日志级别：")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("logLevel "),s("span",{attrs:{class:"token operator"}},[t._v("==")]),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" 0 ----"),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" silent\nlogLevel "),s("span",{attrs:{class:"token operator"}},[t._v("==")]),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" 1 ----"),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" error\nlogLevel "),s("span",{attrs:{class:"token operator"}},[t._v("==")]),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" 2 ----"),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" error/warn\nlogLevel "),s("span",{attrs:{class:"token operator"}},[t._v("==")]),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" 3 ----"),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" error/warn/debug\nlogLevel "),s("span",{attrs:{class:"token operator"}},[t._v("==")]),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" 4 ----"),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" error/warn/debug/tip\nlogLevel "),s("span",{attrs:{class:"token operator"}},[t._v("==")]),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" 5 ----"),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" error/warn/debug/tip/info\n")])])]),s("h2",{attrs:{id:"static"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#static","aria-hidden":"true"}},[t._v("#")]),t._v(" static")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("object")])]),t._v(" "),s("li",[t._v("默认值：")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  dotfiles"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'allow'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  index"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("false")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  maxAge"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'1d'")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("code",[t._v("Vapper")]),t._v(" 内部使用 "),s("a",{attrs:{href:"https://github.com/expressjs/serve-static",target:"_blank",rel:"noopener noreferrer"}},[t._v("serve-static"),s("OutboundLink")],1),t._v(" 服务静态资源。该选项就是 "),s("a",{attrs:{href:"https://github.com/expressjs/serve-static",target:"_blank",rel:"noopener noreferrer"}},[t._v("serve-static"),s("OutboundLink")],1),t._v(" 的选项。")]),t._v(" "),s("h2",{attrs:{id:"plugins"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#plugins","aria-hidden":"true"}},[t._v("#")]),t._v(" plugins")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("array")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("[]")])])]),t._v(" "),s("p",[t._v("指定要加载的插件，请查看："),s("router-link",{attrs:{to:"/zh/using-plugin.html#官方插件"}},[t._v("使用插件")]),t._v("。")],1),t._v(" "),s("h2",{attrs:{id:"htmlminifier-prod-only"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#htmlminifier-prod-only","aria-hidden":"true"}},[t._v("#")]),t._v(" htmlMinifier (Prod Only)")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("boolean | object")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("false")])])]),t._v(" "),s("p",[s("code",[t._v("Vapper")]),t._v(" 允许压缩服务端渲染的 "),s("code",[t._v("html")]),t._v(" 内容，该选项仅在生产环境可用，默认不压缩。你可以将 "),s("code",[t._v("htmlMinifier")]),t._v(" 设置为 "),s("code",[t._v("true")]),t._v("，这样 "),s("code",[t._v("Vapper")]),t._v(" 将使用默认的压缩选项压缩 "),s("code",[t._v("html")]),t._v(" 内容。你也可以设置 "),s("code",[t._v("htmlMinifier")]),t._v(" 选项为一个对象，手动指定相应的压缩选项。"),s("code",[t._v("Vapper")]),t._v(" 使用 "),s("a",{attrs:{href:"https://github.com/kangax/html-minifier",target:"_blank",rel:"noopener noreferrer"}},[t._v("html-minifier"),s("OutboundLink")],1),t._v(" 对 "),s("code",[t._v("html")]),t._v(" 字符串进行压缩，如果 "),s("code",[t._v("htmlMinifier")]),t._v(" 为 "),s("code",[t._v("true")]),t._v("，那么默认的压缩选项为：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  collapseWhitespace"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("true")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  removeRedundantAttributes"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("true")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  removeScriptTypeAttributes"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("true")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  removeStyleLinkTypeAttributes"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("true")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  useShortDoctype"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("true")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  minifyCSS"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"fallbackspa"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fallbackspa","aria-hidden":"true"}},[t._v("#")]),t._v(" fallBackSpa")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("boolean")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("true")])])]),t._v(" "),s("p",[t._v("当错误发生时是否回退 "),s("code",[t._v("SPA")]),t._v(" 模式，默认为 "),s("code",[t._v("true")]),t._v("，即回退 "),s("code",[t._v("SPA")]),t._v(" 模式。阅读 "),s("router-link",{attrs:{to:"/zh/error-handling.html#回退-spa-模式"}},[t._v("回退 SPA 模式")]),t._v(" 了解详情。")],1),t._v(" "),s("h2",{attrs:{id:"fallbackspahandler"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fallbackspahandler","aria-hidden":"true"}},[t._v("#")]),t._v(" fallbackSpaHandler")]),t._v(" "),s("ul",[s("li",[t._v("Type: "),s("code",[t._v("function")])]),t._v(" "),s("li",[t._v("Default: "),s("code",[t._v("null")])])]),t._v(" "),s("p",[t._v("自定义回退 "),s("code",[t._v("SPA")]),t._v(" 的逻辑，详情请查看："),s("router-link",{attrs:{to:"/zh/error-handling.html#自定义-fallback-逻辑"}},[t._v("自定义 fallback 逻辑")])],1),t._v(" "),s("h2",{attrs:{id:"serverbundlefilename"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#serverbundlefilename","aria-hidden":"true"}},[t._v("#")]),t._v(" serverBundleFileName")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("string")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("'vue-ssr-server-bundle.json'")])])]),t._v(" "),s("p",[t._v("指定 Server Bundle 的文件名。")]),t._v(" "),s("h2",{attrs:{id:"clientmanifestfilename"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#clientmanifestfilename","aria-hidden":"true"}},[t._v("#")]),t._v(" clientManifestFileName")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("string")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("'vue-ssr-client-manifest.json'")])])]),t._v(" "),s("p",[t._v("指定 Client Manifest 的文件名。")]),t._v(" "),s("h2",{attrs:{id:"nodeexternalswhitelist"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodeexternalswhitelist","aria-hidden":"true"}},[t._v("#")]),t._v(" nodeExternalsWhitelist")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("array")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("[/\\.css$/, /\\?vue&type=style/]")])])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/liady/webpack-node-externals",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack-node-externals"),s("OutboundLink")],1),t._v(" 插件的 "),s("a",{attrs:{href:"https://github.com/liady/webpack-node-externals#optionswhitelist-",target:"_blank",rel:"noopener noreferrer"}},[t._v("whitelist"),s("OutboundLink")],1),t._v(" 选项。")]),t._v(" "),s("p",[s("code",[t._v("nodeExternalsWhitelist")]),t._v(" 选项的合并策略是“追加”，例如：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// vapper.config.js")]),t._v("\nmodule"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  nodeExternalsWhitelist"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("some"),s("span",{attrs:{class:"token operator"}},[t._v("/")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("最终的 "),s("a",{attrs:{href:"https://github.com/liady/webpack-node-externals#optionswhitelist-",target:"_blank",rel:"noopener noreferrer"}},[t._v("whitelist"),s("OutboundLink")],1),t._v(" 选项为："),s("code",[t._v("[/\\.css$/, /\\?vue&type=style/, /some/]")]),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"pagecache"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pagecache","aria-hidden":"true"}},[t._v("#")]),t._v(" pageCache")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("object")])]),t._v(" "),s("li",[t._v("默认值：")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  cacheOptions "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    max"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("100")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    maxAge"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("1000")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{attrs:{class:"token function-variable function"}},[t._v("cacheable")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("false")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{attrs:{class:"token function-variable function"}},[t._v("getCacheKey")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" req "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" req"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("设置页面级缓存，详情请查看："),s("router-link",{attrs:{to:"/zh/caching.html#页面级缓存-micro-caching"}},[t._v("页面级缓存 Micro Caching")]),t._v("。")],1),t._v(" "),s("h2",{attrs:{id:"rendereroptions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rendereroptions","aria-hidden":"true"}},[t._v("#")]),t._v(" rendererOptions")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("object")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("{}")])])]),t._v(" "),s("p",[t._v("设置 "),s("a",{attrs:{href:"https://ssr.vuejs.org/api/#renderer-options",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-server-renderer"),s("OutboundLink")],1),t._v(" 的选项。")]),t._v(" "),s("h2",{attrs:{id:"runtimecompiler"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#runtimecompiler","aria-hidden":"true"}},[t._v("#")]),t._v(" runtimeCompiler")]),t._v(" "),s("ul",[s("li",[t._v("类型："),s("code",[t._v("boolean")])]),t._v(" "),s("li",[t._v("默认值："),s("code",[t._v("false")])])]),t._v(" "),s("p",[t._v("是否使用包含运行时编译器的 "),s("code",[t._v("Vue")]),t._v("，设置为 "),s("code",[t._v("true")]),t._v(" 意味着你可以在组件中使用 "),s("code",[t._v("template")]),t._v(" 选项，但这会导致你你用的体积增加大约 "),s("code",[t._v("10kb")]),t._v("。")])])},[],!1,null,null,null);a.default=e.exports}}]);